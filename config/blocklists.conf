# Pidanos Blocklist Configuration
# ================================
# Configure blocklist sources and settings

# Global blocklist settings
settings:
  # Maximum number of domains per list (0 = unlimited)
  max_domains_per_list: 0
  
  # Ignore domains shorter than
  min_domain_length: 4
  
  # Automatic deduplication
  deduplicate: true
  
  # Case sensitivity
  case_sensitive: false
  
  # Parse formats
  supported_formats:
    - hosts
    - domains
    - adblock
    - dnsmasq
    - unbound
    
  # Download settings
  download:
    # User agent for downloads
    user_agent: "Pidanos/1.0"
    # Timeout in seconds
    timeout: 300
    # Retry failed downloads
    retry_count: 3
    retry_delay: 60
    # Verify SSL certificates
    verify_ssl: true
    # Follow redirects
    follow_redirects: true
    max_redirects: 5

# Blocklist sources
blocklists:
  # Steven Black's Unified Hosts
  steven_black:
    name: "Steven Black's Unified Hosts"
    url: "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts"
    format: "hosts"
    enabled: true
    category: "general"
    update_frequency: "daily"
    description: "Comprehensive host file with multiple categories"
    
  steven_black_fakenews:
    name: "Steven Black's + Fakenews"
    url: "https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/fakenews/hosts"
    format: "hosts"
    enabled: false
    category: "fakenews"
    
  steven_black_gambling:
    name: "Steven Black's + Gambling"
    url: "https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/gambling/hosts"
    format: "hosts"
    enabled: false
    category: "gambling"
    
  steven_black_porn:
    name: "Steven Black's + Adult"
    url: "https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/porn/hosts"
    format: "hosts"
    enabled: false
    category: "adult"
    
  # OISD Blocklist
  oisd_full:
    name: "OISD Full"
    url: "https://dbl.oisd.nl/"
    format: "domains"
    enabled: true
    category: "general"
    description: "Internet's #1 domain blocklist"
    
  oisd_basic:
    name: "OISD Basic"
    url: "https://dblmini.oisd.nl/"
    format: "domains"
    enabled: false
    category: "general"
    description: "Smaller version of OISD"
    
  # AdGuard Lists
  adguard_dns:
    name: "AdGuard DNS Filter"
    url: "https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt"
    format: "adblock"
    enabled: true
    category: "ads"
    description: "AdGuard's base DNS filter"
    
  adguard_tracking:
    name: "AdGuard Tracking Protection"
    url: "https://adguardteam.github.io/HostlistsRegistry/assets/filter_17.txt"
    format: "adblock"
    enabled: true
    category: "tracking"
    
  adguard_mobile:
    name: "AdGuard Mobile Ads"
    url: "https://adguardteam.github.io/HostlistsRegistry/assets/filter_11.txt"
    format: "adblock"
    enabled: false
    category: "mobile"
    
  # EasyList variants
  easylist:
    name: "EasyList"
    url: "https://easylist.to/easylist/easylist.txt"
    format: "adblock"
    enabled: false
    category: "ads"
    
  easyprivacy:
    name: "EasyPrivacy"
    url: "https://easylist.to/easylist/easyprivacy.txt"
    format: "adblock"
    enabled: true
    category: "privacy"
    
  # Malware lists
  malware_domain_list:
    name: "Malware Domain List"
    url: "https://www.malwaredomainlist.com/hostslist/hosts.txt"
    format: "hosts"
    enabled: true
    category: "malware"
    priority: "high"
    
  phishing_army:
    name: "Phishing Army"
    url: "https://phishing.army/download/phishing_army_blocklist_extended.txt"
    format: "domains"
    enabled: true
    category: "phishing"
    priority: "high"
    
  # Regional lists
  polish_filters:
    name: "Polish Filters"
    url: "https://raw.githubusercontent.com/MajkiIT/polish-ads-filter/master/polish-pihole-filters/hostfile.txt"
    format: "hosts"
    enabled: false
    category: "regional"
    region: "PL"
    
  chinese_filters:
    name: "Chinese Ad Filters"
    url: "https://raw.githubusercontent.com/neodevpro/neodevhost/master/host"
    format: "hosts"
    enabled: false
    category: "regional"
    region: "CN"
    
  # Specialized lists
  cryptojacking:
    name: "NoCoin Filter List"
    url: "https://raw.githubusercontent.com/hoshsadiq/adblock-nocoin-list/master/hosts.txt"
    format: "hosts"
    enabled: true
    category: "cryptojacking"
    description: "Block browser-based crypto miners"
    
  smart_tv:
    name: "Smart TV Blocklist"
    url: "https://raw.githubusercontent.com/Perflyst/PiHoleBlocklist/master/SmartTV-AGH.txt"
    format: "domains"
    enabled: false
    category: "smart_tv"
    description: "Block Smart TV telemetry"
    
  windows_telemetry:
    name: "Windows Telemetry"
    url: "https://raw.githubusercontent.com/crazy-max/WindowsSpyBlocker/master/data/hosts/spy.txt"
    format: "hosts"
    enabled: false
    category: "telemetry"
    description: "Block Windows tracking"
    
  # Social media
  facebook:
    name: "Block Facebook"
    url: "https://raw.githubusercontent.com/jmdugan/blocklists/master/corporations/facebook/all"
    format: "domains"
    enabled: false
    category: "social"
    
  tiktok:
    name: "Block TikTok"
    url: "https://raw.githubusercontent.com/llacb47/mischosts/master/social/tiktok-block"
    format: "hosts"
    enabled: false
    category: "social"
    
  # Custom lists
  custom_1:
    name: "Custom Blocklist 1"
    url: "file:///etc/pidanos/custom/blocklist1.txt"
    format: "domains"
    enabled: false
    category: "custom"
    
  custom_2:
    name: "Custom Blocklist 2"
    url: "http://internal.company.com/blocklist.txt"
    format: "hosts"
    enabled: false
    category: "custom"
    auth:
      username: "admin"
      password: "secret"

# Allowlist sources (to prevent false positives)
allowlists:
  anudeep_whitelist:
    name: "Anudeep's Whitelist"
    url: "https://raw.githubusercontent.com/anudeepND/whitelist/master/domains/whitelist.txt"
    format: "domains"
    enabled: true
    description: "Commonly whitelisted domains"
    
  # Custom allowlist
  custom_allowlist:
    name: "Custom Allowlist"
    url: "file:///etc/pidanos/custom/allowlist.txt"
    format: "domains"
    enabled: true

# Category settings
categories:
  general:
    enabled: true
    priority: 50
    
  ads:
    enabled: true
    priority: 60
    
  tracking:
    enabled: true
    priority: 70
    
  malware:
    enabled: true
    priority: 90
    block_subdomains: true
    
  phishing:
    enabled: true
    priority: 90
    block_subdomains: true
    
  adult:
    enabled: false
    priority: 50
    
  gambling:
    enabled: false
    priority: 50
    
  fakenews:
    enabled: false
    priority: 40
    
  social:
    enabled: false
    priority: 30
    
  cryptojacking:
    enabled: true
    priority: 80
    
  telemetry:
    enabled: true
    priority: 60
    
  regional:
    enabled: false
    priority: 30
    
  custom:
    enabled: true
    priority: 100

# Update schedule
update_schedule:
  # Automatic updates
  automatic: true
  
  # Update time (24h format)
  time: "03:00"
  
  # Days of week (1-7, 1=Monday)
  days: [1, 2, 3, 4, 5, 6, 7]
  
  # Stagger updates to prevent load spikes
  stagger:
    enabled: true
    max_delay: 3600  # seconds
    
  # Update on startup
  on_startup: true
  startup_delay: 300  # seconds

# Processing rules
processing:
  # Domain modifications
  modifications:
    # Remove www prefix
    remove_www: true
    
    # Remove common tracking parameters
    remove_tracking: true
    tracking_params:
      - "utm_*"
      - "fbclid"
      - "gclid"
      
  # Filtering rules
  filters:
    # Skip domains matching these patterns
    skip_patterns:
      - "localhost"
      - "localhost.localdomain"
      - "local"
      - "broadcasthost"
      - "ip6-localhost"
      - "ip6-loopback"
      - "ip6-localnet"
      - "ip6-mcastprefix"
      - "ip6-allnodes"
      - "ip6-allrouters"
      
    # Skip TLDs
    skip_tlds:
      - "local"
      - "localhost"
      - "home"
      - "arpa"
      
    # Skip IP addresses
    skip_ips: true
    
    # Skip domains shorter than
    min_length: 4
    
    # Skip domains longer than
    max_length: 255
    
  # Validation
  validation:
    # Validate domain syntax
    check_syntax: true
    
    # Check for IDN homographs
    check_homographs: true
    
    # Resolve sample of domains
    sample_resolve:
      enabled: false
      percentage: 1
      
# Import/Export settings
import_export:
  # Export format
  export_format: "hosts"  # hosts, domains, json
  
  # Include metadata
  include_metadata: true
  
  # Compression
  compress: true
  compression_format: "gzip"  # gzip, bzip2, xz